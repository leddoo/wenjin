COL_NAME  = 0
COL_BYTES = 1
COL_IMM   = 2
COL_ARGS  = 3
COL_RETS  = 4
COL_FLAGS = 5

# @todo: complete traps.

opcodes = [
    # name                      bytes           immediate           args                    rets        flags
    ["unreachable",             [0x00],         [],                 [],                     [],         "c#!"       ],
    ["nop",                     [0x01],         [],                 [],                     [],         ""          ],
    ["block",                   [0x02],         ["block_ty"],       [],                     [],         "c"         ],
    ["loop",                    [0x03],         ["block_ty"],       [],                     [],         "c"         ],
    ["if",                      [0x04],         ["block_ty"],       [],                     [],         "c"         ],
    ["else",                    [0x05],         [],                 [],                     [],         "c"         ],
    ["end",                     [0x0b],         [],                 [],                     [],         "c"         ],
    ["br",                      [0x0c],         ["label"],          [],                     [],         "c!"        ],
    ["br_if",                   [0x0d],         ["label"],          [],                     [],         "c"         ],
    ["br_table",                [0x0e],         ["br_table"],       [],                     [],         "c!"        ],
    ["return",                  [0x0f],         [],                 [],                     [],         "c!"        ],
    ["call",                    [0x10],         ["func"],           [],                     [],         "c"         ],
    ["call_indirect",           [0x11],         ["func", "tab"],    [],                     [],         "c#"        ],
    ["drop",                    [0x1a],         [],                 [],                     [],         "c"         ],
    ["select",                  [0x1b],         [],                 [],                     [],         "c"         ],
    ["typed_select",            [0x1c],         ["val_ty"],         [],                     [],         "c"         ],
    ["local_get",               [0x20],         ["local"],          [],                     [],         "c"         ],
    ["local_set",               [0x21],         ["local"],          [],                     [],         "c"         ],
    ["local_tee",               [0x22],         ["local"],          [],                     [],         "c"         ],
    ["global_get",              [0x23],         ["global"],         [],                     [],         "c"         ],
    ["global_set",              [0x24],         ["global"],         [],                     [],         "c"         ],
    ["table_get",               [0x25],         ["table"],          [],                     [],         "c#"        ],
    ["table_set",               [0x26],         ["table"],          [],                     [],         "c#"        ],
    ["i32_load",                [0x28],         [],                 ["i32"],                ["i32"],    "m#"        ],
    ["i64_load",                [0x29],         [],                 ["i32"],                ["i64"],    "m#"        ],
    ["f32_load",                [0x2A],         [],                 ["i32"],                ["f32"],    "m#"        ],
    ["f64_load",                [0x2B],         [],                 ["i32"],                ["f64"],    "m#"        ],
    ["i32_load8_s",             [0x2C],         [],                 ["i32"],                ["i32"],    "m#"        ],
    ["i32_load8_u",             [0x2D],         [],                 ["i32"],                ["i32"],    "m#"        ],
    ["i32_load16_s",            [0x2E],         [],                 ["i32"],                ["i32"],    "m#"        ],
    ["i32_load16_u",            [0x2F],         [],                 ["i32"],                ["i32"],    "m#"        ],
    ["i64_load8_s",             [0x30],         [],                 ["i32"],                ["i64"],    "m#"        ],
    ["i64_load8_u",             [0x31],         [],                 ["i32"],                ["i64"],    "m#"        ],
    ["i64_load16_s",            [0x32],         [],                 ["i32"],                ["i64"],    "m#"        ],
    ["i64_load16_u",            [0x33],         [],                 ["i32"],                ["i64"],    "m#"        ],
    ["i64_load32_s",            [0x34],         [],                 ["i32"],                ["i64"],    "m#"        ],
    ["i64_load32_u",            [0x35],         [],                 ["i32"],                ["i64"],    "m#"        ],
    ["i32_store",               [0x36],         [],                 ["i32", "i32"],         [],         "m#"        ],
    ["i64_store",               [0x37],         [],                 ["i64", "i32"],         [],         "m#"        ],
    ["f32_store",               [0x38],         [],                 ["f32", "i32"],         [],         "m#"        ],
    ["f64_store",               [0x39],         [],                 ["f64", "i32"],         [],         "m#"        ],
    ["i32_store8",              [0x3A],         [],                 ["i32", "i32"],         [],         "m#"        ],
    ["i32_store16",             [0x3B],         [],                 ["i32", "i32"],         [],         "m#"        ],
    ["i64_store8",              [0x3C],         [],                 ["i64", "i32"],         [],         "m#"        ],
    ["i64_store16",             [0x3D],         [],                 ["i64", "i32"],         [],         "m#"        ],
    ["i64_store32",             [0x3E],         [],                 ["i64", "i32"],         [],         "m#"        ],
    ["memory_size",             [0x3F],         ["memory"],         [],                     [],         "c"         ],
    ["memory_grow",             [0x40],         ["memory"],         [],                     [],         "c"         ],
    ["i32_const",               [0x41],         ["i32"],            [],                     [],         "c"         ],
    ["i64_const",               [0x42],         ["i64"],            [],                     [],         "c"         ],
    ["f32_const",               [0x43],         ["f32"],            [],                     [],         "c"         ],
    ["f64_const",               [0x44],         ["f64"],            [],                     [],         "c"         ],
    ["i32_eqz",                 [0x45],         [],                 ["i32"],                ["i32"],    ""          ],
    ["i32_eq",                  [0x46],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_ne",                  [0x47],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_lt_s",                [0x48],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_lt_u",                [0x49],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_gt_s",                [0x4A],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_gt_u",                [0x4B],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_le_s",                [0x4C],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_le_u",                [0x4D],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_ge_s",                [0x4E],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_ge_u",                [0x4F],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i64_eqz",                 [0x50],         [],                 ["i64"],                ["i32"],    ""          ],
    ["i64_eq",                  [0x51],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_ne",                  [0x52],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_lt_s",                [0x53],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_lt_u",                [0x54],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_gt_s",                [0x55],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_gt_u",                [0x56],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_le_s",                [0x57],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_le_u",                [0x58],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_ge_s",                [0x59],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["i64_ge_u",                [0x5A],         [],                 ["i64", "i64"],         ["i32"],    ""          ],
    ["f32_eq",                  [0x5B],         [],                 ["f32", "f32"],         ["i32"],    ""          ],
    ["f32_ne",                  [0x5C],         [],                 ["f32", "f32"],         ["i32"],    ""          ],
    ["f32_lt",                  [0x5D],         [],                 ["f32", "f32"],         ["i32"],    ""          ],
    ["f32_gt",                  [0x5E],         [],                 ["f32", "f32"],         ["i32"],    ""          ],
    ["f32_le",                  [0x5F],         [],                 ["f32", "f32"],         ["i32"],    ""          ],
    ["f32_ge",                  [0x60],         [],                 ["f32", "f32"],         ["i32"],    ""          ],
    ["f64_eq",                  [0x61],         [],                 ["f64", "f64"],         ["i32"],    ""          ],
    ["f64_ne",                  [0x62],         [],                 ["f64", "f64"],         ["i32"],    ""          ],
    ["f64_lt",                  [0x63],         [],                 ["f64", "f64"],         ["i32"],    ""          ],
    ["f64_gt",                  [0x64],         [],                 ["f64", "f64"],         ["i32"],    ""          ],
    ["f64_le",                  [0x65],         [],                 ["f64", "f64"],         ["i32"],    ""          ],
    ["f64_ge",                  [0x66],         [],                 ["f64", "f64"],         ["i32"],    ""          ],
    ["i32_clz",                 [0x67],         [],                 ["i32"],                ["i32"],    ""          ],
    ["i32_ctz",                 [0x68],         [],                 ["i32"],                ["i32"],    ""          ],
    ["i32_popcnt",              [0x69],         [],                 ["i32"],                ["i32"],    ""          ],
    ["i32_add",                 [0x6A],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_sub",                 [0x6B],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_mul",                 [0x6C],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_div_s",               [0x6D],         [],                 ["i32", "i32"],         ["i32"],    "#"         ],
    ["i32_div_u",               [0x6E],         [],                 ["i32", "i32"],         ["i32"],    "#"         ],
    ["i32_rem_s",               [0x6F],         [],                 ["i32", "i32"],         ["i32"],    "#"         ],
    ["i32_rem_u",               [0x70],         [],                 ["i32", "i32"],         ["i32"],    "#"         ],
    ["i32_and",                 [0x71],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_or",                  [0x72],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_xor",                 [0x73],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_shl",                 [0x74],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_shr_s",               [0x75],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_shr_u",               [0x76],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_rotl",                [0x77],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i32_rotr",                [0x78],         [],                 ["i32", "i32"],         ["i32"],    ""          ],
    ["i64_clz",                 [0x79],         [],                 ["i64"],                ["i64"],    ""          ],
    ["i64_ctz",                 [0x7A],         [],                 ["i64"],                ["i64"],    ""          ],
    ["i64_popcnt",              [0x7B],         [],                 ["i64"],                ["i64"],    ""          ],
    ["i64_add",                 [0x7C],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_sub",                 [0x7D],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_mul",                 [0x7E],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_div_s",               [0x7F],         [],                 ["i64", "i64"],         ["i64"],    "#"         ],
    ["i64_div_u",               [0x80],         [],                 ["i64", "i64"],         ["i64"],    "#"         ],
    ["i64_rem_s",               [0x81],         [],                 ["i64", "i64"],         ["i64"],    "#"         ],
    ["i64_rem_u",               [0x82],         [],                 ["i64", "i64"],         ["i64"],    "#"         ],
    ["i64_and",                 [0x83],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_or",                  [0x84],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_xor",                 [0x85],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_shl",                 [0x86],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_shr_s",               [0x87],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_shr_u",               [0x88],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_rotl",                [0x89],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["i64_rotr",                [0x8A],         [],                 ["i64", "i64"],         ["i64"],    ""          ],
    ["f32_abs",                 [0x8B],         [],                 ["f32"],                ["f32"],    ""          ],
    ["f32_neg",                 [0x8C],         [],                 ["f32"],                ["f32"],    ""          ],
    ["f32_ceil",                [0x8D],         [],                 ["f32"],                ["f32"],    ""          ],
    ["f32_floor",               [0x8E],         [],                 ["f32"],                ["f32"],    ""          ],
    ["f32_trunc",               [0x8F],         [],                 ["f32"],                ["f32"],    ""          ],
    ["f32_nearest",             [0x90],         [],                 ["f32"],                ["f32"],    ""          ],
    ["f32_sqrt",                [0x91],         [],                 ["f32"],                ["f32"],    ""          ],
    ["f32_add",                 [0x92],         [],                 ["f32", "f32"],         ["f32"],    ""          ],
    ["f32_sub",                 [0x93],         [],                 ["f32", "f32"],         ["f32"],    ""          ],
    ["f32_mul",                 [0x94],         [],                 ["f32", "f32"],         ["f32"],    ""          ],
    ["f32_div",                 [0x95],         [],                 ["f32", "f32"],         ["f32"],    ""          ],
    ["f32_min",                 [0x96],         [],                 ["f32", "f32"],         ["f32"],    ""          ],
    ["f32_max",                 [0x97],         [],                 ["f32", "f32"],         ["f32"],    ""          ],
    ["f32_copysign",            [0x98],         [],                 ["f32", "f32"],         ["f32"],    ""          ],
    ["f64_abs",                 [0x99],         [],                 ["f64"],                ["f64"],    ""          ],
    ["f64_neg",                 [0x9A],         [],                 ["f64"],                ["f64"],    ""          ],
    ["f64_ceil",                [0x9B],         [],                 ["f64"],                ["f64"],    ""          ],
    ["f64_floor",               [0x9C],         [],                 ["f64"],                ["f64"],    ""          ],
    ["f64_trunc",               [0x9D],         [],                 ["f64"],                ["f64"],    ""          ],
    ["f64_nearest",             [0x9E],         [],                 ["f64"],                ["f64"],    ""          ],
    ["f64_sqrt",                [0x9F],         [],                 ["f64"],                ["f64"],    ""          ],
    ["f64_add",                 [0xA0],         [],                 ["f64", "f64"],         ["f64"],    ""          ],
    ["f64_sub",                 [0xA1],         [],                 ["f64", "f64"],         ["f64"],    ""          ],
    ["f64_mul",                 [0xA2],         [],                 ["f64", "f64"],         ["f64"],    ""          ],
    ["f64_div",                 [0xA3],         [],                 ["f64", "f64"],         ["f64"],    ""          ],
    ["f64_min",                 [0xA4],         [],                 ["f64", "f64"],         ["f64"],    ""          ],
    ["f64_max",                 [0xA5],         [],                 ["f64", "f64"],         ["f64"],    ""          ],
    ["f64_copysign",            [0xA6],         [],                 ["f64", "f64"],         ["f64"],    ""          ],
    ["i32_wrap_i64",            [0xA7],         [],                 ["i64"],                ["i32"],    ""          ],
    ["i32_trunc_f32_s",         [0xA8],         [],                 ["f32"],                ["i32"],    ""          ],
    ["i32_trunc_f32_u",         [0xA9],         [],                 ["f32"],                ["i32"],    ""          ],
    ["i32_trunc_f64_s",         [0xAA],         [],                 ["f64"],                ["i32"],    ""          ],
    ["i32_trunc_f64_u",         [0xAB],         [],                 ["f64"],                ["i32"],    ""          ],
    ["i64_extend_i32_s",        [0xAC],         [],                 ["i32"],                ["i64"],    ""          ],
    ["i64_extend_i32_u",        [0xAD],         [],                 ["i32"],                ["i64"],    ""          ],
    ["i64_trunc_f32_s",         [0xAE],         [],                 ["f32"],                ["i64"],    ""          ],
    ["i64_trunc_f32_u",         [0xAF],         [],                 ["f32"],                ["i64"],    ""          ],
    ["i64_trunc_f64_s",         [0xB0],         [],                 ["f64"],                ["i64"],    ""          ],
    ["i64_trunc_f64_u",         [0xB1],         [],                 ["f64"],                ["i64"],    ""          ],
    ["f32_convert_i32_s",       [0xB2],         [],                 ["i32"],                ["f32"],    ""          ],
    ["f32_convert_i32_u",       [0xB3],         [],                 ["i32"],                ["f32"],    ""          ],
    ["f32_convert_i64_s",       [0xB4],         [],                 ["i64"],                ["f32"],    ""          ],
    ["f32_convert_i64_u",       [0xB5],         [],                 ["i64"],                ["f32"],    ""          ],
    ["f32_demote_f64",          [0xB6],         [],                 ["i64"],                ["f32"],    ""          ],
    ["f64_convert_i32_s",       [0xB7],         [],                 ["i32"],                ["f64"],    ""          ],
    ["f64_convert_i32_u",       [0xB8],         [],                 ["i32"],                ["f64"],    ""          ],
    ["f64_convert_i64_s",       [0xB9],         [],                 ["i64"],                ["f64"],    ""          ],
    ["f64_convert_i64_u",       [0xBA],         [],                 ["i64"],                ["f64"],    ""          ],
    ["f64_promote_f32",         [0xBB],         [],                 ["f32"],                ["f64"],    ""          ],
    ["i32_reinterpret_f32",     [0xBC],         [],                 ["f32"],                ["i32"],    ""          ],
    ["i64_reinterpret_f64",     [0xBD],         [],                 ["f64"],                ["i64"],    ""          ],
    ["f32_reinterpret_i32",     [0xBE],         [],                 ["i32"],                ["f32"],    ""          ],
    ["f64_reinterpret_i64",     [0xBF],         [],                 ["i64"],                ["f64"],    ""          ],
    ["i32_extend8_s",           [0xC0],         [],                 ["i32"],                ["i32"],    ""          ],
    ["i32_extend16_s",          [0xC1],         [],                 ["i32"],                ["i32"],    ""          ],
    ["i64_extend8_s",           [0xC2],         [],                 ["i64"],                ["i64"],    ""          ],
    ["i64_extend16_s",          [0xC3],         [],                 ["i64"],                ["i64"],    ""          ],
    ["i64_extend32_s",          [0xC4],         [],                 ["i64"],                ["i64"],    ""          ],
    ["ref_null",                [0xd0],         [],                 [],                     [],         "c"         ],
    ["ref_is_null",             [0xd1],         [],                 [],                     [],         "c"         ],
    ["ref_func",                [0xd2],         ["func"],           [],                     [],         "c"         ],
    ["memory_copy",             [0xfc,  10],    ["mem", "mem"],     [],                     [],         "c"         ],
    ["memory_fill",             [0xfc,  11],    ["mem"],            [],                     [],         "c"         ],
]


